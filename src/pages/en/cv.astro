---
import BaseLayout from "../../layouts/BaseLayout.astro";
import TimeLineElement from "../../components/cv/TimeLine.astro";
import SkillElement from "../../components/cv/Skill.astro";
import { Icon } from 'astro-icon';
import { getCollection } from "astro:content";
const _experiences = await getCollection("experiences");
const experiences = _experiences.map(e => e.data.experiences)[0]

import { getLangFromUrl, useTranslations } from '../../i18n/utils';
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const _skills = await getCollection("skills");
const skills = _skills.map((e) => e.data.skills)[0]
const languages = skills.languages
const framworks = skills.framworks
const libs_front = skills.libs_front
const versionning = skills.versionning
const installer = skills.installer
const data = skills.data
const monitoring = skills.monitoring
const maps = skills.maps
const os = skills.os
const others = skills.others
---

<BaseLayout title="Resume" sideBarActiveItemID="cv">
  <div id="cv-page">
    <!-- header -->
    <div class="mb-5">
      <div class="mb-5">
        <div class="text-3xl w-full font-bold">{t("profil")}</div>
      </div>
      <div class="mb-5 text-justify">
        Back-end Developer with <b>PHP</b> and <b>Symfony</b>, with 7 years and 5 years of experience, respectively.<br>
        During my journey, I have been involved in the development of several solutions based on the following technology stacks: 
        <em>PHP (7, 8), Symfony (3, 4, 5, 6), RESTful APIs (API Platform, FastAPI, DjangoNinja), Elasticsearch (ELK), 
          Python (Pandas, Polars, SqlAlchemy, Jupyter).
        </em></br>
        And today, I am leveraging all this knowledge for the benefit of my future clients and collaborators.
        </br>
      </div>
      <div class="mb-5 text-1xl flex"><Icon name="mdi:google-maps" class="w-6"/><b>{t("address")}</b></div>
      <div class="dropdown dropdown-hover">
        <label tabindex="0"><Icon class="mb-5" name="mdi:qrcode-scan" class="w-8"/></label>
        <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
          <img src="/projects/images/qr.png" alt="scan me">
          <span class="text-center">scan me ðŸ˜‰</span>
        </ul>
      </div>
    </div>
    <!-- end header -->
    
    <!-- experiences -->
    <div>
      <div class="mb-5">
        <div class="text-3xl w-full font-bold">{t("experiences")}</div>
      </div>

      <div class="time-line-container mb-10">
        {
          experiences.map((e, i: number) => <TimeLineElement 
            title={e.title} 
            subtitle={e.subtitle}
            tags={e.tags}
            >
            {e.slottilte && <p>{e.slottilte}</p>}
            {
              experiences[i].slot?.map(s =>
                <p class="font-light text-sm flex">
                  {s.desc} {s.project_link && <a href={s.project_link} target="_blank"><Icon name="mdi:web" class="w-4"/></a> }
                </p>
                <div> { s.stacks ? s.stacks.map(stack => <span class="badge badge-outline mr-1">{stack}</span>) : null } </div>
              )
            }
            </TimeLineElement>)
        }

      </div>
    </div>
    <!-- end experiences -->

    <!-- formations -->
    <div>
      <div class="mb-5">
        <div class="text-3xl w-full font-bold">{t("formations")}</div>
      </div>

      <div class="time-line-container grid gap-4 mb-10">
        <TimeLineElement
          title="ECS (European Communication School)"
          subtitle="Sep 2017 - Jun 2019 Toulouse, France"
        >
          <em>{t("ecs")}</em>
        </TimeLineElement>
        <TimeLineElement
          title="ESTM (Ecole SupÃ©rieure de Technologie et de Management de Dakar)"
          subtitle="Sep 2011 - Jui 2014 Dakar, Senegal"
        >
          <em>{t("estm")}</em>
        </TimeLineElement>
      </div>
    </div>
    <!-- end formations -->

    <!-- certifications -->
    <!-- <div>
      <div class="mb-5">
        <div class="text-3xl w-full font-bold">Certifications</div>
      </div>

      <ul class="list-disc mx-6 mb-10 grid gap-2">
        <li>
          <a href="#" target="_blank"> Certification Name (with link)</a>
        </li>
        <li>
          <a href="#" target="_blank"> Certification Name (with link)</a>
        </li>
      </ul>
    </div> -->
    <!-- end certifications -->

    <!-- skills -->
    <div>
      <div class="mb-5">
        <div class="text-3xl w-full font-bold">{t("skills")}</div>
      </div>
      <div class="text-1xl w-full my-2">Languages</div>
      <ul class="md:columns-1 columns-1">
        {
          languages.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Framworks</div>
      <ul class="md:columns-1 columns-1">
        {
          framworks.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Libraies & Frontend</div>
      <ul class="md:columns-1 columns-1">
        {
          libs_front.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Versionning</div>
      <ul class="md:columns-1 columns-1">
        {
          versionning.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Installer & Packages Manager</div>
      <ul class="md:columns-1 columns-1">
        {
          installer.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Data</div>
      <ul class="md:columns-13 columns-13">
        {
          data.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Monitoring</div>
      <ul class="md:columns-1 columns-1">
        {
          monitoring.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Map</div>
      <ul class="md:columns-1 columns-1">
        {
          maps.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">OS</div>
      <ul class="md:columns-6 columns-6">
        {
          os.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
      <div class="text-1xl w-full my-2">Others</div>
      <ul class="md:columns-6 columns-6">
        {
          others.map(s => <SkillElement title={s.title} icon={s.icon} isSvg={s.isSvg} link={s.link} color={s.color} />)
        }
      </ul>
    </div>
    <!-- end skills -->
  </div>
</BaseLayout>

